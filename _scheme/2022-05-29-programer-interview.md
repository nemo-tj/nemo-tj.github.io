# 面试记录

## 抖音
+ 2023-06-14
  * 同城中有哪些问题是属于页面特有的
    - 距离范围约束
    - 长尾内容作为主体下 的推荐
    - 社交是本地消费的主要原因
  * 短视频的关注 和 直播的关注，不同内容形态的行为之间是可比的么?
  * 视频和直播的推荐有何不同
    - From MiaoZhiGao:
    - 背景：
      + 相比短视频排序，直播是一个生命周期短，实时性很强的场景。如何充分利用直播场景下的多源信息，及时反映直播内容的变化是直播排序的关键。
      + 实现：baseline 基于 PLE，同时优化互动和时长等多个目标。考虑到直播的特点引入改进点
      （1）直播间 embedding 自适应学习：以开播时长和直播间的一些实时统计量等作为 GateNet 的输入，动态学习 authorId 和 liveId 的加权融合权重，得到直播间的表征。
      （2）基于直播观众列表的 target attention：把当前用户user 当 Query，直播间的实时audience list 作为 Key 和 Value，做用户侧target attention，把最终结果作为模型特征。
      （3）用户直播行为序列中辅助信息 decoupled attention：对不同的 side info 分别计算 attention score matrix，通过 field-wise gating 融合得到最终的 attention matrix，最后在对 id 序列构成的 value matrix 进行 scaled dot attention。

## 美团
+ 2023-06-12
  * 问题: 当前解决方案以外，业界内还有哪些方式，与之对比有哪些优缺点
    - 涉及到的技术点，横向相关的，需要有一定的认识，比如 用到uplift, 就需要去学习了解下: 因果推断, causal embedding, 推荐中怎么设计treatment 等
  * 发现业务中的问题, 进行针对性的方案设计和实现
  * 

## 拼多多
+ 2023-05-21
  * hrbp: 精确问询每段经历的时间和原因, 此外还询问家庭情况
  
+ 2023-05-14
  * 面试体验：
    - 非常压抑，可能整个拼多多的工作强度比较大，面试官没有长期没有休息充分，眼神比较空洞。
    - 面试官的问题没有就项目展开讨论，更多的是我介绍给他听；从这个角度上讲，我不能判断出面试官的水平，但是对方对我评价如何，就不可知了。
    - 面试过程中没有眼神互动和交流，更多的是你问我答，有点僵硬。可能拼多多对面试过程中有监控，面试官说话也比较谨慎，但确实没有精神。
  * 二面 21:00 面试官迟到5分钟
    - 算法题
      + 单向链表变形: 1->2->3->4->5->6 变化成 1->6->2->5->3->4, 头尾->第二->倒数第二...
      + 我采用了递归的思路，每去完一个pair结束一轮，进行递归，不是最优解，N^2 的复杂度
      + 更好思路：O(N)
        * 找到中间节点mid, 然后将后半段逆序
        * head 和 mid 同步向后走, 就可以了
    - 项目
      + 没有很深入的进行技术讨论，感觉面试官很疲惫，整个过程中很沉闷，没有眼神交流
      + 介绍项目时，感觉像是在凑时间；能感觉到对方没有听进去。
    - 我的问题:
      + 国际化业务你们有区分地区设计推荐系统么
        * 面试官没有理解到我想问的问题，感觉没有必要继续聊下去，所以我就嗯嗯了过去
  * 一面 11:00
    - 面试官很疲惫，没有行为互动，只是沉闷的你问我答，不能感受到面试官的反馈
    - 项目主要是讲解 混排、粗排
    - 算法题不是leetcode, 让设计数据结构，实现简单的决策树推理过程
    - 我的问题：
      + 团队的现状和希望一年以后的状态
        * 适配迁移国内的推荐系统，后续再做精细优化
        * 团队规模从去年10人到现在100人规模，包括算法和架构开发人员

## 美团
+ 2023-04-27（一面）
+ 2023-05-05（二面)
  * 同城和精选，两个场景有什么差异？业务目标、产品形态
  * 针对这种差异，你们有什么针对性的优化
+ 2023-05-12 (三面)
  * 据一个案例：你通过数据观察，驱动算法和业务改进
    - 同城距离: 远距离内容消费多，不符合同城定位，但是直接根据距离过滤不解决问题。通过拆解播放消费、曝光、内容数量、召回内容的距离分布。
    - 进一步拆分到各路召回，得出同城距离分布为什么呈现出，近距离多、远距离更多，中间少的微笑形式。
    - 得到对应的解决方案

## 快看漫画 推荐算法：
+ 2022-05-08（二面）
    + 算法题
        + https://leetcode.com/problems/subarray-sums-divisible-by-k/
``` python
 给定无序数组a , 求有多少个连续子数组 sum(a[i]..a[j]) % N == 0;
 思路:  
 (suma(j) - suma(i)) % N == 0
 suma(j) % N == suma(i) % N
```

+ 2022-05-26（一面）
    + 面试评价：
        + 快看的算法目前还是离线更新，按小时级去同步模型
        + 模型还处于通过·加特征·和调整 DeepFm 结构的阶段
        + 面试官对 AUC 的理解，不够清晰
        + 算法团队大约有20个人，但是负责的业务比较乱；除了优化社区推荐，还有做广告推荐
        + 目前阶段的问题：
            + 模型训练更快的更新（偏向工程）
            + 模型特征挖掘（偏向数据）
            + 模型结构调整
            + 广告等小业务的接入，可能在召回上的工作更多一点
    + 算法题 
```python
#!/usr/bin/python
# 求 x 的平方跟
def sqrt(x):
  left = 0
  right = x
  while True:
    m = (right + left) // 2
    t = m * m
    if t  == x:
      return m
    elif m * m < x:
      left = m + 1
    else:
      right = m - 1
    m = (right + left) // 2
    if right == left:
      return right

# 求青蛙跳台阶问题，时间复杂度？
def jump(n):
  if n == 1:
    return 1
  elif n == 2:
    return 2
  elif n == 3:
    return jump(2) + jump(1) + 1
  else:
    return jump(n-1) + jump(n-2) + jump(n-3)

# 时间复杂度优化
def jump(n):
    a = 1
    b = 2
    c = 4
    if n == 1:
        return a
    elif n == 2:
        return b
    elif n == 3:
        return c
    else:
        for i in range(4, n):
            x = c
            c = c + b + a
            a = b
            b = x
    return c
  ```
  
   


- tiktok 推荐算法工程: 
  + 2022-04-29（一面）
    
    + 如果widedeep参数初始化为0会有什么现象？
        + 对wide侧的LR 而言，没有影响
            $$
            \begin{aligned}
            f(X) =& \sigma(X^T W), \quad a = X^T W \\
            loss =& L(w) = \sum_i y_i log (f(X_i)) + (1-y_i) log (1-f(X_i)) \\
            \frac{\partial L(w)} {\partial w_i} =& \frac{\partial L} {\partial f} \frac{\partial f} {\partial a}  \frac{\partial a} {\partial w_i} 
                = \frac{1}{f} [(1-f)f] x_i = (1-f) x_i \\
                w_i =& w_i - (1-f) x_i
            \end{aligned}
            $$
            
        + 对 DNN 侧，假设有3层 I, H, O
            + forward 时 $a_j = \sum_i w_i x_i,  w_i = 0$ , 导致H层的输入为零，H层的输出为固定值，即 O层的输入为固定值
            
            + backward 时，O层可以更新梯度，但是每个神经元的梯度相同；但是隐层H 由于输入是零，导致其梯度始终为零
                
            + 半径为$R$的圆上，任意一点与圆心距离$d$的期望$E(d)$是？
         $$
         \int_{x = 0}^{x = R} \frac{ 2 \pi x dx }{\pi R^2} x = \frac{\frac{2}{3}x^3 |^R_0}{R^2} = \frac{2}{3}R
         $$
    
    
    
    